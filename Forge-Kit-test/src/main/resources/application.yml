spring:
  rabbitmq:
    host: localhost
    port: 5672
    username: admin
    password: password
    virtual-host: /

    # --- 1. 生产者可靠性配置（必须放在这里！） ---
    # 开启 Confirm 机制
    publisher-confirm-type: correlated
    # 开启 Return 机制
    publisher-returns: true

    # --- 2. 消费者配置 ---
    listener:
      simple:
        acknowledge-mode: manual
        concurrency: 3
        max-concurrency: 10
        prefetch: 1